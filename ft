# Use official Python image
FROM python:3.12-slim

# Set environment vars
ENV PYTHONUNBUFFERED=1 \
    PIP_NO_CACHE_DIR=1 \
    PORT=10000

# Set workdir
WORKDIR /app

# Install dependencies directly (no requirements.txt needed)
RUN pip install --no-cache-dir \
    python-telegram-bot==20.8 \
    Flask==3.0.3

# Copy all project files
COPY . .

# Expose Flask port
EXPOSE 10000

# Run bot + webserver
CMD ["python", "maintenance.py"]
